"use strict";(self.webpackChunkcodespaces_web_client=self.webpackChunkcodespaces_web_client||[]).push([[330],{20593:(t,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AST=void 0;const e=i(10319),r=i(32100),h=new Set(["!","?","+","*","@"]),n=t=>h.has(t),o="(?!\\.)",a=new Set(["[","."]),p=new Set(["..","."]),l=new Set("().*{}+?[]^$\\!"),c="[^/]",f=c+"*?",g=c+"+?";class u{type;#t;#s;#i=!1;#e=[];#r;#h;#n;#o=!1;#a;#p;#l=!1;constructor(t,s,i={}){this.type=t,t&&(this.#s=!0),this.#r=s,this.#t=this.#r?this.#r.#t:this,this.#a=this.#t===this?i:this.#t.#a,this.#n=this.#t===this?[]:this.#t.#n,"!"!==t||this.#t.#o||this.#n.push(this),this.#h=this.#r?this.#r.#e.length:0}get hasMagic(){if(void 0!==this.#s)return this.#s;for(const t of this.#e)if("string"!=typeof t&&(t.type||t.hasMagic))return this.#s=!0;return this.#s}toString(){return void 0!==this.#p?this.#p:this.type?this.#p=this.type+"("+this.#e.map((t=>String(t))).join("|")+")":this.#p=this.#e.map((t=>String(t))).join("")}#c(){if(this!==this.#t)throw new Error("should only call on root");if(this.#o)return this;let t;for(this.toString(),this.#o=!0;t=this.#n.pop();){if("!"!==t.type)continue;let s=t,i=s.#r;for(;i;){for(let e=s.#h+1;!i.type&&e<i.#e.length;e++)for(const s of t.#e){if("string"==typeof s)throw new Error("string part in extglob AST??");s.copyIn(i.#e[e])}s=i,i=s.#r}}return this}push(...t){for(const s of t)if(""!==s){if("string"!=typeof s&&!(s instanceof u&&s.#r===this))throw new Error("invalid part: "+s);this.#e.push(s)}}toJSON(){const t=null===this.type?this.#e.slice().map((t=>"string"==typeof t?t:t.toJSON())):[this.type,...this.#e.map((t=>t.toJSON()))];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#o&&"!"===this.#r?.type)&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#r?.isStart())return!1;if(0===this.#h)return!0;const t=this.#r;for(let s=0;s<this.#h;s++){const i=t.#e[s];if(!(i instanceof u&&"!"===i.type))return!1}return!0}isEnd(){if(this.#t===this)return!0;if("!"===this.#r?.type)return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();const t=this.#r?this.#r.#e.length:0;return this.#h===t-1}copyIn(t){"string"==typeof t?this.push(t):this.push(t.clone(this))}clone(t){const s=new u(this.type,t);for(const t of this.#e)s.copyIn(t);return s}static#f(t,s,i,e){let r=!1,h=!1,o=-1,a=!1;if(null===s.type){let p=i,l="";for(;p<t.length;){const i=t.charAt(p++);if(r||"\\"===i)r=!r,l+=i;else if(h)p===o+1?"^"!==i&&"!"!==i||(a=!0):"]"!==i||p===o+2&&a||(h=!1),l+=i;else if("["!==i)if(e.noext||!n(i)||"("!==t.charAt(p))l+=i;else{s.push(l),l="";const r=new u(i,s);p=u.#f(t,r,p,e),s.push(r)}else h=!0,o=p,a=!1,l+=i}return s.push(l),p}let p=i+1,l=new u(null,s);const c=[];let f="";for(;p<t.length;){const i=t.charAt(p++);if(r||"\\"===i)r=!r,f+=i;else if(h)p===o+1?"^"!==i&&"!"!==i||(a=!0):"]"!==i||p===o+2&&a||(h=!1),f+=i;else if("["!==i)if(n(i)&&"("===t.charAt(p)){l.push(f),f="";const s=new u(i,l);l.push(s),p=u.#f(t,s,p,e)}else if("|"!==i){if(")"===i)return""===f&&0===s.#e.length&&(s.#l=!0),l.push(f),f="",s.push(...c,l),p;f+=i}else l.push(f),f="",c.push(l),l=new u(null,s);else h=!0,o=p,a=!1,f+=i}return s.type=null,s.#s=void 0,s.#e=[t.substring(i-1)],p}static fromGlob(t,s={}){const i=new u(null,void 0,s);return u.#f(t,i,0,s),i}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const t=this.toString(),[s,i,e,r]=this.toRegExpSource();if(!(e||this.#s||this.#a.nocase&&!this.#a.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return i;const h=(this.#a.nocase?"i":"")+(r?"u":"");return Object.assign(new RegExp(`^${s}$`,h),{_src:s,_glob:t})}toRegExpSource(t){const s=t??!!this.#a.dot;if(this.#t===this&&this.#c(),!this.type){const i=this.isStart()&&this.isEnd(),e=this.#e.map((s=>{const[e,r,h,n]="string"==typeof s?u.#g(s,this.#s,i):s.toRegExpSource(t);return this.#s=this.#s||h,this.#i=this.#i||n,e})).join("");let h="";if(this.isStart()&&"string"==typeof this.#e[0]){if(!(1===this.#e.length&&p.has(this.#e[0]))){const i=a,r=s&&i.has(e.charAt(0))||e.startsWith("\\.")&&i.has(e.charAt(2))||e.startsWith("\\.\\.")&&i.has(e.charAt(4)),n=!s&&!t&&i.has(e.charAt(0));h=r?"(?!(?:^|/)\\.\\.?(?:$|/))":n?o:""}}let n="";this.isEnd()&&this.#t.#o&&"!"===this.#r?.type&&(n="(?:$|\\/)");return[h+e+n,(0,r.unescape)(e),this.#s=!!this.#s,this.#i]}const i="*"===this.type||"+"===this.type,e="!"===this.type?"(?:(?!(?:":"(?:";let h=this.#u(s);if(this.isStart()&&this.isEnd()&&!h&&"!"!==this.type){const t=this.toString();return this.#e=[t],this.type=null,this.#s=void 0,[t,(0,r.unescape)(this.toString()),!1,!1]}let n=!i||t||s?"":this.#u(!0);n===h&&(n=""),n&&(h=`(?:${h})(?:${n})*?`);let l="";if("!"===this.type&&this.#l)l=(this.isStart()&&!s?o:"")+g;else{l=e+h+("!"===this.type?"))"+(!this.isStart()||s||t?"":o)+f+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&n?")":"*"===this.type&&n?")?":`)${this.type}`)}return[l,(0,r.unescape)(h),this.#s=!!this.#s,this.#i]}#u(t){return this.#e.map((s=>{if("string"==typeof s)throw new Error("string type in extglob ast??");const[i,e,r,h]=s.toRegExpSource(t);return this.#i=this.#i||h,i})).filter((t=>!(this.isStart()&&this.isEnd()&&!t))).join("|")}static#g(t,s,i=!1){let h=!1,n="",o=!1;for(let r=0;r<t.length;r++){const a=t.charAt(r);if(h)h=!1,n+=(l.has(a)?"\\":"")+a;else if("\\"!==a){if("["===a){const[i,h,a,p]=(0,e.parseClass)(t,r);if(a){n+=i,o=o||h,r+=a-1,s=s||p;continue}}"*"!==a?"?"!==a?n+=a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(n+=c,s=!0):(n+=i&&"*"===t?g:f,s=!0)}else r===t.length-1?n+="\\\\":h=!0}return[n,(0,r.unescape)(t),!!s,o]}}s.AST=u}}]);