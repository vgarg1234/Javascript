"use strict";(self.webpackChunkcodespaces_web_client=self.webpackChunkcodespaces_web_client||[]).push([[319],{51616:(n,t,r)=>{r.d(t,{Bt:()=>m,CD:()=>x,Vi:()=>p,jV:()=>h,xy:()=>_});var u=r(70390),e=r(55028),i=r(28185),f=r(96933),o=r(60503),c=r(14270),a=r(79498),l="TelemetryPluginChain",v="_hasRun",s="_getTelCtx",d=0;function g(n,t,r,c){var a=null,l=[];null!==c&&(a=c?function(n,t,r){for(;n;){if(n[u.TO]()===r)return n;n=n[u.W2]()}return h([r],t[u.TC]||{},t)}(n,r,c):n);var v={_next:function(){var n=a;if(a=n?n[u.W2]():null,!n){var t=l;t&&t[u.R5]>0&&((0,f.tO)(t,(function(n){try{n.func[u._S](n.self,n.args)}catch(n){(0,e.kP)(r[u.eZ],2,73,"Unexpected Exception during onComplete - "+(0,i.eU)(n))}})),l=[])}return n},ctx:{core:function(){return r},diagLog:function(){return(0,e.vH)(r,t)},getCfg:function(){return t},getExtCfg:s,getConfig:function(n,r,u){void 0===u&&(u=!1);var e,i=s(n,null);i&&!(0,f.le)(i[r])?e=i[r]:t&&!(0,f.le)(t[r])&&(e=t[r]);return(0,f.le)(e)?u:e},hasNext:function(){return!!a},getNext:function(){return a},setNext:function(n){a=n},iterate:function(n){var t;for(;t=v._next();){var r=t[u.TO]();r&&n(r)}},onComplete:function(n,t){for(var r=[],e=2;e<arguments.length;e++)r[e-2]=arguments[e];n&&l[u.MW]({func:n,self:(0,f.o8)(t)?v.ctx:t,args:r})}}};function s(n,r,u){var e;if(void 0===r&&(r={}),void 0===u&&(u=0),t){var i=t[o.Zh];i&&n&&(e=i[n])}if(e){if((0,f.Kn)(r)&&0!==u){var c=(0,f.mm)(!0,r,e);t&&2===u&&(0,f.rW)(r,(function(n){if((0,f.le)(c[n])){var r=t[n];(0,f.le)(r)||(c[n]=r)}})),e=c}}else e=r;return e}return v}function x(n,t,r,e){var i=g(n,t,r,e),c=i.ctx;return c[u.uL]=function(n){var t=i._next();return t&&t[o.hL](n,c),!t},c[u.zV]=function(n,e){return void 0===n&&(n=null),(0,f.kJ)(n)&&(n=h(n,t,r,e)),x(n||c[u.W2](),t,r,e)},c}function m(n,t,r){var e=t[u.TC]||{},i=g(n,e,t,r),o=i.ctx;return o[u.uL]=function(n){var t=i._next();return t&&t.unload(o,n),!t},o[u.zV]=function(n,r){return void 0===n&&(n=null),(0,f.kJ)(n)&&(n=h(n,e,t,r)),m(n||o[u.W2](),t,r)},o}function _(n,t,r){var e=t[u.TC]||{},i=g(n,e,t,r).ctx;return i[u.uL]=function(n){return i.iterate((function(t){(0,f.mf)(t[u.Tu])&&t[u.Tu](i,n)}))},i[u.zV]=function(n,r){return void 0===n&&(n=null),(0,f.kJ)(n)&&(n=h(n,e,t,r)),_(n||i[u.W2](),t,r)},i}function h(n,t,r,g){var m=null,_=!g;if((0,f.kJ)(n)&&n[u.R5]>0){var p=null;(0,f.tO)(n,(function(n){if(_||g!==n||(_=!0),_&&n&&(0,f.mf)(n[o.hL])){var h=function(n,t,r){var g,m=null,_=(0,f.mf)(n[o.hL]),h=(0,f.mf)(n[u.Jd]);g=n?n[u.pZ]+"-"+n[o.yi]+"-"+d++:"Unknown-0-"+d++;var p={getPlugin:function(){return n},getNext:function(){return m},processTelemetry:T,unload:V,update:k,_id:g,_setNext:function(n){m=n}};function C(){var u;return n&&(0,f.mf)(n[s])&&(u=n[s]()),u||(u=x(p,t,r)),u}function L(t,r,f,a,s){var d=!1,x=n?n[u.pZ]:l,_=t[v];return _||(_=t[v]={}),t.setNext(m),n&&(0,c.Lm)(t[o.oV](),(function(){return x+":"+f}),(function(){_[g]=!0;try{var n=m?m._id:o.qS;n&&(_[n]=!1),d=r(t)}catch(n){var c=!m||_[m._id];c&&(d=!0),m&&c||(0,e.kP)(t[u.mc](),1,73,"Plugin ["+x+"] failed during "+f+" - "+(0,i.eU)(n)+", run flags: "+(0,i.eU)(_))}}),a,s),d}function T(t,r){function e(r){if(!n||!_)return!1;var e=(0,a.OY)(n);return!e[u.fi]&&!e[o.mE]&&(h&&n[u.Jd](m),n[o.hL](t,r),!0)}L(r=r||C(),e,"processTelemetry",(function(){return{item:t}}),!t.sync)||r[u.uL](t)}function V(t,r){function e(){var e=!1;if(n){var i=(0,a.OY)(n),f=n[o.oV]||i[o.oV];!n||f&&f!==t.core()||i[u.fi]||(i[o.oV]=null,i[u.fi]=!0,i[u.yl]=!1,n[u.fi]&&!0===n[u.fi](t,r)&&(e=!0))}return e}L(t,e,"unload",(function(){}),r[u.d])||t[u.uL](r)}function k(t,r){function e(){var e=!1;if(n){var i=(0,a.OY)(n),f=n[o.oV]||i[o.oV];!n||f&&f!==t.core()||i[u.fi]||n[u.Tu]&&!0===n[u.Tu](t,r)&&(e=!0)}return e}L(t,e,"update",(function(){}),!1)||t[u.uL](r)}return(0,f.FL)(p)}(n,t,r);m||(m=h),p&&p._setNext(h),p=h}}))}return g&&!m?h([g],t,r):m}var p=function(n,t,r,u){var e=x(n,t,r,u);(0,f.Vb)(this,e,(0,f.FY)(e))}}}]);